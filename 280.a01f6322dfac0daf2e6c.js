(self.webpackChunkproject_mabelline=self.webpackChunkproject_mabelline||[]).push([[280],{9280:(t,e,n)=>{"use strict";n.r(e),n.d(e,{UStartModule:()=>S});var i=n(1116),o=n(6145),s=n(5366);let r=(()=>{class t{constructor(t){this.route=t,this.pageTitle=""}ngOnInit(){this.route.data.subscribe(t=>{this.pageTitle=t.pageTitle})}ngAfterViewInit(){this.route.data.subscribe(t=>console.log(t))}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(o.gz))},t.\u0275cmp=s.Xpm({type:t,selectors:[["pm-u-start"]],decls:8,vars:1,consts:[[1,"container-fluid","my-5","py-5"],[1,"row","mt-5"],[1,"col"],[1,"row","justify-content-center"],[1,"col-8","col"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"h2"),s._uU(4),s.qZA(),s.qZA(),s.qZA(),s.TgZ(5,"div",3),s.TgZ(6,"div",4),s._UZ(7,"router-outlet"),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(4),s.Oqu(e.pageTitle?e.pageTitle:""))},directives:[o.lC],styles:[""]}),t})();const a=function(){return["patient-search"]};let c=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["pm-start"]],decls:6,vars:2,consts:[[1,"mb-3"],["for","exampleFormControlInput1",1,"form-label"],["type","text","id","exampleFormControlInput1",1,"form-control"],["type","button",1,"btn","btn-primary",3,"routerLink"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"label",1),s._uU(2,"Enter PIN to start"),s.qZA(),s._UZ(3,"input",2),s.qZA(),s.TgZ(4,"button",3),s._uU(5,"Primary"),s.qZA()),2&t&&(s.xp6(4),s.Q6J("routerLink",s.DdM(1,a)))},directives:[o.rH],styles:[""]}),t})();var l,u=n(1462),p=new Uint8Array(16);function Z(){if(!l&&!(l="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(p)}const g=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,d=function(t){return"string"==typeof t&&g.test(t)};for(var m=[],f=0;f<256;++f)m.push((f+256).toString(16).substr(1));const h=function(t,e,n){var i=(t=t||{}).random||(t.rng||Z)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=i[o];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(m[t[e+0]]+m[t[e+1]]+m[t[e+2]]+m[t[e+3]]+"-"+m[t[e+4]]+m[t[e+5]]+"-"+m[t[e+6]]+m[t[e+7]]+"-"+m[t[e+8]]+m[t[e+9]]+"-"+m[t[e+10]]+m[t[e+11]]+m[t[e+12]]+m[t[e+13]]+m[t[e+14]]+m[t[e+15]]).toLowerCase();if(!d(n))throw TypeError("Stringified UUID is invalid");return n}(i)};var A=n(4317),T=n(8512);let q=(()=>{class t{constructor(){this.selectedPatient=new T.X(this.getLocalPatient()),this.selectedPatient$=this.selectedPatient.asObservable()}patientSelected(t){this.selectedPatient.next(t),this.setLocalPatient(t)}checkForLocalPatient(){}setLocalPatient(t){const e=JSON.stringify(t);localStorage.setItem("patient",e)}getLocalPatient(){return JSON.parse(localStorage.getItem("patient"))}selectLocalPatient(){this.selectedPatient.next(this.getLocalPatient())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function v(t,e){1&t&&(s.ynx(0),s._UZ(1,"hr"),s.TgZ(2,"div",0),s.TgZ(3,"div",1),s.TgZ(4,"div",2),s._UZ(5,"input",3),s.TgZ(6,"label"),s._uU(7,"Appts in the next # Days"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"div",0),s.TgZ(9,"div",1),s.TgZ(10,"div",2),s._UZ(11,"input",3),s.TgZ(12,"label"),s._uU(13,"Limit to Appt Type"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.BQk())}function b(t,e){if(1&t&&(s.TgZ(0,"div",11),s._UZ(1,"input",12),s.TgZ(2,"label",13),s._uU(3),s.qZA(),s.qZA()),2&t){const t=e.$implicit,n=s.oxw();s.xp6(1),s.Q6J("name",t.option)("id","method-"+t.option)("formControl",n.communicationMethod)("value",t.option),s.xp6(1),s.uIk("for","method-"+t.option),s.xp6(1),s.Oqu(t.label)}}function U(t,e){if(1&t&&(s.TgZ(0,"li",19),s.TgZ(1,"div",20),s.TgZ(2,"div",21),s._uU(3),s.qZA(),s._uU(4," Cras justo odio "),s.qZA(),s.TgZ(5,"span",22),s._uU(6,"14"),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.xp6(3),s.AsE("",t.name.first," ",t.name.last,"")}}const y=function(t){return{"table-active":t}};function _(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr",23),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw(2).selectResult(e.id)}),s.TgZ(1,"th",24),s._uU(2,"Default"),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s._uU(8),s.ALo(9,"date"),s.qZA(),s.TgZ(10,"td"),s._uU(11),s.qZA(),s.TgZ(12,"td"),s._uU(13),s.qZA(),s.TgZ(14,"td"),s._uU(15),s.qZA(),s.TgZ(16,"td"),s._uU(17),s.qZA(),s.TgZ(18,"td"),s._uU(19),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit,n=s.oxw(2);s.Q6J("ngClass",s.VKq(11,y,n.selectedPatient===t.id)),s.xp6(4),s.Oqu(t.mrnNo),s.xp6(2),s.Oqu(t.name.first),s.xp6(2),s.Oqu(s.lcZ(9,9,t.dob.date)),s.xp6(3),s.Oqu(t.dob.age),s.xp6(2),s.Oqu(t.email),s.xp6(2),s.Oqu(t.phone),s.xp6(2),s.Oqu(t.allowed),s.xp6(2),s.Oqu(t.language)}}function x(t,e){if(1&t&&(s.ynx(0),s.TgZ(1,"ul",14),s.YNc(2,U,7,2,"li",15),s.qZA(),s.TgZ(3,"table",16),s.TgZ(4,"thead"),s.TgZ(5,"tr"),s.TgZ(6,"th",17),s._uU(7,"#"),s.qZA(),s.TgZ(8,"th",17),s._uU(9,"MRN"),s.qZA(),s.TgZ(10,"th",17),s._uU(11,"Name"),s.qZA(),s.TgZ(12,"th",17),s._uU(13,"Birth Date"),s.qZA(),s.TgZ(14,"th",17),s._uU(15,"Age"),s.qZA(),s.TgZ(16,"th",17),s._uU(17,"Email"),s.qZA(),s.TgZ(18,"th",17),s._uU(19,"Phone"),s.qZA(),s.TgZ(20,"th",17),s._uU(21,"Allowed"),s.qZA(),s.TgZ(22,"th",17),s._uU(23,"Language"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(24,"tbody"),s.YNc(25,_,20,13,"tr",18),s.qZA(),s.qZA(),s.BQk()),2&t){const t=s.oxw();s.xp6(2),s.Q6J("ngForOf",t.searchResults),s.xp6(23),s.Q6J("ngForOf",t.searchResults)}}function w(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",7),s.TgZ(1,"div",1),s.TgZ(2,"div",8),s.TgZ(3,"button",9),s.NdJ("click",function(){return s.CHM(t),s.oxw().goToFormsSelection()}),s._uU(4,"Select Forms"),s.qZA(),s.qZA(),s.qZA(),s.qZA()}}function O(t,e){if(1&t&&(s.TgZ(0,"div",1),s.TgZ(1,"pre"),s._uU(2),s.ALo(3,"json"),s.ALo(4,"async"),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(2),s.Oqu(s.lcZ(3,1,s.lcZ(4,3,t.patientInfo$)))}}const C=[{path:"",component:r,data:{pageTitle:"ABC Clinic"},children:[{path:"",component:c,data:{subTitle:"ABC Clinic"}},{path:"patient-search",component:(()=>{class t{constructor(t,e,n){this.randomUserService=t,this.router=e,this.patientService=n,this.communicationOptions=[{option:"in-person",label:"Hand tablet to patient"},{option:"email-text",label:"Send to patient's email/text"}],this.searchResults=[],this.showResults=!1,this.selectedPatient="",this.communicationMethod=new u.NI}ngOnInit(){}getSomeUsers(){this.randomUserService.getSomeRandomUsers().subscribe(t=>{this.searchResults=t.results.map(t=>Object.assign(Object.assign({},t),{id:h(),mrnNo:this.getRandomInt(10)})),console.log(this.searchResults),this.showResults=!this.showResults})}selectResult(t){this.selectedPatient=t}getRandomInt(t){return Math.floor(Math.random()*t)}goToFormsSelection(){this.patientService.patientSelected(this.searchResults.find(t=>t.id===this.selectedPatient)),this.router.navigateByUrl("u-start/forms-selection")}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(A.w),s.Y36(o.F0),s.Y36(q))},t.\u0275cmp=s.Xpm({type:t,selectors:[["pm-patient-search"]],decls:37,vars:4,consts:[[1,"row","mb-3"],[1,"col"],[1,"form-floating"],["type","text","placeholder","12345",1,"form-control"],[4,"ngIf"],[1,"col","text-start"],["class","form-check",4,"ngFor","ngForOf"],[1,"row","mb-5"],[1,"d-grid","gap-2"],["type","button",1,"btn","btn-primary",3,"click"],["class","row mb-5",4,"ngIf"],[1,"form-check"],["type","radio",1,"form-check-input",3,"name","id","formControl","value"],[1,"form-check-label"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-start",4,"ngFor","ngForOf"],[1,"table","table-hover"],["scope","col"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-start"],[1,"ms-2","me-auto"],[1,"fw-bold"],[1,"badge","bg-primary","rounded-pill"],[3,"ngClass","click"],["scope","row"]],template:function(t,e){1&t&&(s.TgZ(0,"h5"),s._uU(1,"Patient Search"),s.qZA(),s.TgZ(2,"div",0),s.TgZ(3,"div",1),s.TgZ(4,"div",2),s._UZ(5,"input",3),s.TgZ(6,"label"),s._uU(7,"MRN"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"div",0),s.TgZ(9,"div",1),s.TgZ(10,"div",2),s._UZ(11,"input",3),s.TgZ(12,"label"),s._uU(13,"Person #"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(14,"div",0),s.TgZ(15,"div",1),s.TgZ(16,"div",2),s._UZ(17,"input",3),s.TgZ(18,"label"),s._uU(19,"First Name"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(20,"div",0),s.TgZ(21,"div",1),s.TgZ(22,"div",2),s._UZ(23,"input",3),s.TgZ(24,"label"),s._uU(25,"Last Name"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(26,v,14,0,"ng-container",4),s.TgZ(27,"div",0),s.TgZ(28,"div",5),s.YNc(29,b,4,6,"div",6),s.qZA(),s.qZA(),s.TgZ(30,"div",7),s.TgZ(31,"div",1),s.TgZ(32,"div",8),s.TgZ(33,"button",9),s.NdJ("click",function(){return e.getSomeUsers()}),s._uU(34,"Search"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(35,x,26,2,"ng-container",4),s.YNc(36,w,5,0,"div",10)),2&t&&(s.xp6(26),s.Q6J("ngIf","email-text"===e.communicationMethod.value),s.xp6(3),s.Q6J("ngForOf",e.communicationOptions),s.xp6(6),s.Q6J("ngIf",e.showResults),s.xp6(1),s.Q6J("ngIf",e.selectedPatient))},directives:[i.O5,i.sg,u._,u.Fj,u.JJ,u.oH,i.mk],pipes:[i.uU],styles:[""]}),t})(),data:{subTitle:"ABC Clinic"}},{path:"patient-search-results",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["pm-patient-search-results"]],decls:2,vars:0,template:function(t,e){1&t&&(s.TgZ(0,"p"),s._uU(1,"patient-search-results works!"),s.qZA())},styles:[""]}),t})(),data:{subTitle:"ABC Clinic"}},{path:"forms-selection",component:(()=>{class t{constructor(t,e){this.router=t,this.patientService=e,this.patientInfo$=this.patientService.selectedPatient$}ngOnInit(){this.patientInfo$.subscribe(t=>console.log(t)),console.log(this.patientService.getLocalPatient())}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(o.F0),s.Y36(q))},t.\u0275cmp=s.Xpm({type:t,selectors:[["pm-forms-selection"]],decls:2,vars:3,consts:[["class","container-fluid text-start",4,"ngIf"],[1,"container-fluid","text-start"]],template:function(t,e){1&t&&(s.YNc(0,O,5,5,"div",0),s.ALo(1,"async")),2&t&&s.Q6J("ngIf",s.lcZ(1,1,e.patientInfo$))},directives:[i.O5],pipes:[i.Ov,i.Ts],styles:[""]}),t})(),data:{subTitle:"ABC Clinic"}}]}];let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[o.Bz.forChild(C)],o.Bz]}),t})(),S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[i.ez,u.UX,u.u5,I]]}),t})()}}]);